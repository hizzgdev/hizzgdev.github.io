---
layout: detail
title: 基于Servlet3.0的JavaEE的组件化设计
---
概述
==========
技术成果的复用对项目的成本、质量、进度等多方面都有比较积极的作用。复用大体可分为四个级别，最高级别的复用是产品级复用，最低级别的复用是技术团队的复用，中间的两个级别是组件级复用（特指业务组件）和代码级复用。对于产品型项目，自然是产品级复用；对于工程型项目，则不同的技术团队能达到的复用程度各不相同。

本文主要介绍的是基于 Servlet 3.0 进行组件化设计的思路，基于此思路可以基本做到组件级复用。

Servlet3.0
==========
Servlet 3.0 于 2010 年随 Java EE 6 规范一起发布。其中有几项特性比较引人注目：异步处理支持/注解支持/插件式支持，具体的内容请参考 IBM developerWorks 的这篇文章：[《Servlet 3.0 新特性详解》][1]。文章中提到：

> 使用该特性（插件式支持），现在我们可以在不修改已有 Web 应用的前提下，只需将按照一定格式打成的 JAR 包放到 WEB-INF/lib 目录下，即可实现新功能的扩充，不需要额外的配置。

> Servlet 3.0 引入了称之为“Web 模块部署描述符片段”的 web-fragment.xml 部署描述文件，该文件必须存放在在 jar 文件的 META-INF 目录下，该部署描述文件可以包含一切可以在 web.xml 中定义的内容。

也即是说在 Servlet3.0 里的 web-fragment.xml 与 web.xml 几乎具备了同等的能力。只不过，在 web.xml 中保留了是否启用这个特性的配置开关，各 web-fragment.xml 也可以指定各自加载的顺序。

另外， jar 文件的 META-INF/resources 目录相当于 JavaEE 工程中的 web 根目录，web 根目录里的文件会覆盖 jar 文件中的同名文件。

简单的模块化设计
==========



[1]:http://www.ibm.com/developerworks/cn/java/j-lo-servlet30/
